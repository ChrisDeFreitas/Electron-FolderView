<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Lang" content="en">
<meta name="author" content="Chris DeFreitas">
<meta http-equiv="Reply-to" content="chrisd@europa.com">
<title>Folder View - folderDisplayed</title>

<link rel="stylesheet" href="file:///C:/website/node/imageView/lib/photoswipe.css">
<link rel="stylesheet" href="file:///C:/website/node/imageView/lib/default-skin/default-skin.css">
<script src="file:///C:/website/node/imageView/lib/photoswipe.js"></script>
<script src="file:///C:/website/node/imageView/lib/photoswipe-ui-default.js"></script>
<!--electron_comment_begin-->
<script src="file:///C:/website/node/imageView/lib/isotope.pkgd.js"></script>
<script src="file:///C:/website/node/imageView/lib/packery-mode.pkgd.js"></script>
<!--electron_comment_end-->

<script src="file:///C:/website/node/imageView/lib/dlgFactory.js"></script>
<script src="file:///C:/website/node/imageView/lib/ui.js"></script>

<script>
/* moved to ui//complex vars
var isElectron=false
var bblDur = 5000
var gallery=null	//photoswipe slideshow
var galleryScrollTimer = null
var galleryDelay=2
var exts={}
var gExtFilter={}
var isotope = null
var defaultImageNum=null
var itemselected=null
var devtools=null
var fontSize='12px'
var lastLayoutMode=null
var scrollTimer=null
var scrollDir=null
//var scale=1
//var scroll=null
//var shuffle=false

var objprefix = ['aud','fld','img','svg','unk','vid']
var imgtypes =['.bmp','.ico','.gif','.jpg','.jpeg','.png']
var vidtypes = ['.avi','.flc','.flv','.mkv','.mov','.mp4','.mpg','.mov','.ogg','.qt','.swf','.webm','.wmv']
var audtypes = ['.flac','.mp3','.wma']
var items=null
*/

//nodejs_comment_begin
//code for electron only
const Isotope = require('isotope-layout')
const packery = require('isotope-packery')
//const horiz 	= require('isotope-horizontal')

//////do not delete: vars populated by main.js:
//ui.args=main.js/args
//exts={}
//items=null

//default electron/nodejs code for this app
const renderer = require('C:/website/node/imageView/lib/renderer.js')
//var electronWin = renderer.electronWin
renderer.sayhey()
renderer.mainMenuGen(exts, lastLayoutMode)
renderer.contextMenuSet(exts)
require('electron').ipcRenderer.on('applog', (event, message) => {
//support logging from main thread, because console.log doesn't work without debuggerer
  console.log(message)
})
//nodejs_comment_end


function init() {
	//////do not delete: vars populated by main.js:
	//ui.args=main.js/args

	Object.assign(gExtFilter, exts)	//clone
	if(lastLayoutMode===null) lastLayoutMode="wall"

	isElectron=ui.args.isElectron
	lastLayoutMode=ui.args.layout
	scale=ui.args.scale

	console.log(`\nApplication arguments:`)
	console.log(`defaultImageNum: ${ui.args.defaultImageNum}`)
	console.log(`devtools: ${ui.args.devtools}`)
	console.log('exts:', exts)	//=== gExtFilter
	console.log(`fontSize: ${ui.args.fontsize}`)
	console.log(`fullscreen: ${ui.args.fullscreen}`)
	console.log('items:', items)
	console.log(`layout: ${ui.args.layout}`)
	console.log(`path: ${ui.args.path}`)
	console.log(`scale: ${ui.args.scale}`)
	console.log(`scroll: ${ui.args.scroll}`)
	console.log(`shuffle: ${ui.args.shuffle}`)
	ui.init()
	console.log('\n')	//end of app args
	ui.gridLoad(lastLayoutMode)
}
</script>
<style>
	body{
		background: black repeat url('file:///C:/website/node/imageView/resources/tileable-fabric-textures-1.jpg');
		background-size:auto; color:#999; font-family:sans-serif; font-size:12px; padding:0;
		text-align:center;
	}
	#grid{ border:0; margin:0 auto; outline:0; padding:0; vertical-align:top; }
	.grid-item {
		outline:1px solid transparent;	border:1px solid transparent;
		text-align:center;	vertical-align:middle;
	}
	.grid-item:hover {border:1px solid whitesmoke}
	.gridItemSelected{border:1px solid #1ACC1A}
	img { cursor:pointer; margin:0; padding:0; border:0; outline:0; }
	video {cursor:pointer; margin:0 auto; /*height:250px*/; }
</style>
</head>
<body onload='init()'>

<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element, as animating opacity is faster than rgba(). -->
    <div id=pswp__bg class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
        <div class="pswp__container">
            <!-- don't modify these 3 pswp__item elements, data is added later on -->
            <div id=pswp__item1 class="pswp__item"></div>
            <div id=pswp__item2 class="pswp__item"></div>
            <div id=pswp__item3 class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <!--button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button-->

								<!-- custom funcs -->
								<style>
									.btnGallery{background:transparent; border:0; color:#ddd; cursor:pointer; float:right; font-size:1.5em; font-weight:bold; margin:0.6em 0 0 0;}
									.btnGallery:hover{color:#fff}
								</style>
								<button class=btnGallery style="" title='Scale image by -0.1 (Ctrl+Down)' onmousedown='galleryImageScale(null, false)'>&minus;</button>
								<button class=btnGallery style="" title='Scale image by +0.1 (Ctrl+Up)' onmousedown='galleryImageScale(null, true)'>&plus;</button>
								<button class=btnGallery style="" title='Toggle slideshow (Ctrl+Right)' onmousedown='galleryPlay(true); event.preventDefault;'>&sc;</button>
								<button id=btnGalleryDur class=btnGallery style="font-weight:normal; font-size:1em; padding:0.75em 0 0 0;" title='Slide duration, click to change.' onmousedown='galleryDur(); event.preventDefault;'>15s</button>
								<button class=btnGallery style="" title='Toggle reverse slideshow (Ctrl+Left)' onmousedown='galleryPlay(false); event.preventDefault;'>&pr;</button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

          </div>

        </div>

</div>

<div id=grid class="grid">&nbsp;</div>

</body>
